/** 
* core.js -v0.7.3
* Copyright (c) 2015 Mauricio Soares
* Licensed MIT
*/


!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Core=b()}):"object"==typeof exports?module.exports=b():a.Core=b()}(this,function(){"use strict";var a=function(){this.modules={}};a.prototype.register=function(a,b){return this.modules[a]?(this.helpers.err("!!module",a),!1):void(this.modules[a]={constructor:b,instance:null})},a.prototype.moduleCheck=function(a,b){return b?!a||!a.instance:!a||a.instance},a.prototype.getElement=function(a){var b=document.getElementById(a);return b&&b.id===a&&b.parentElement?b:null},a.prototype.start=function(a){if(!a)return this.startAll();var b=this.modules[a],c=this.getElement(a);return this.moduleCheck(b)?(this.helpers.err("!start",a),!1):(b.instance=new b.constructor(new this.Sandbox(a)),b.instance.el=c,b.instance.init?b.instance.init():void 0)},a.prototype.stop=function(a){if(!a)return this.stopAll();var b=this.modules[a],c;return this.moduleCheck(b,!0)?(this.helpers.err("!stop",a),!1):(b.instance.destroy&&(c=b.instance.destroy()),b.instance=null,this.Sandbox.clearNotifications(a),c)},a.prototype.stopAll=function(){this.xAll("stop")},a.prototype.startAll=function(){this.xAll("start")},a.prototype.xAll=function(a){for(var b in this.modules)this.modules.hasOwnProperty(b)&&this[a](b)},a=new a;var b=function(c,d){a.helpers.log(b.messages[c]+'"'+d+'"')};b.messages={"!start":"Could not start the given module, it's either already started or is not registered: ","!stop":"Could not stop the given module, it's either already stopped or is not registered: ","!!module":"Can't register an already registered module: ","!!listen":"There's already an listen handler to the notification: "},a.helpers=a.helpers||{},a.helpers.err=b;var c=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.helpers=a.helpers||{},a.helpers.isArray=c;var d=window.console?window.console.log.bind(window.console):function(){};a.helpers=a.helpers||{},a.helpers.log=d;var e=function(a){return Array.prototype.slice.call(a)};a.helpers=a.helpers||{},a.helpers.toArray=e;var f={},g=function(a,b){f[a]=b},h=function(a){return f[a]||null};a.extend=g,a.getExtension=h;var i=function(a){this.module=a};return i.notifications={},i.clearNotifications=function(a){delete i.notifications[a]},i.prototype.notify=function(a){for(var b in i.notifications){var c=i.notifications[b][a.type];c&&c.callback.call(c.context,a.data)}},i.prototype.listen=function(b){var c=a.helpers.toArray(arguments);if(!a.helpers.isArray(b))return this.addNotification.apply(this,arguments);for(var d=0,e=b.length;e>d;d+=1)c[0]=b[d],this.addNotification.apply(this,c)},i.prototype.addNotification=function(b,c,d,e){var f=i.notifications,g=!1;f[this.module]&&f[this.module][b]?e?g=!0:a.helpers.err("!!listen",b):g=!0,g&&(f[this.module]=f[this.module]||{},f[this.module][b]={callback:c,context:d||window})},i.prototype.use=function(b){return a.getExtension(b)},a.Sandbox=i,a});
//# sourceMappingURL=core.min.js.map